import org.gradle.api.java.archives.internal.DefaultManifest

plugins {
    id 'com.lwohvye.java-conventions'
    id 'org.springframework.boot' // 主要是定义了这个，不晓得在子模块定义为啥会报错
}

ext.sharedManifest = manifest {
    attributes(
            'Developer': 'lWoHvYe',
            'Created-By': 'Gradle',
            'Built-By': System.properties['user.name'],
            'Build-Jdk-Spec': "${System.properties['java.version']}"
    )
} as DefaultManifest

ext { // 这个定义是可以传递的
    lombokVersion = "1.18.24"
}

subprojects {
    dependencies {}
    tasks.withType(Javadoc).every {
        enable = false
    }
}

tasks.named("bootJar") {
    mainClass = ''
}

tasks.withType(Checkstyle).configureEach {
    reports {
        xml.required = false
        html.required = true
        html.stylesheet resources.text.fromFile('config/xsl/checkstyle-custom.xsl')
    }
}
